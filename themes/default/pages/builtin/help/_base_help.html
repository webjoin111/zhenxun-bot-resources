{% extends 'partials/_base.html' %}

{% block title %}{{ data.title }}{% endblock %}

{% block page_styles %}
    <style>
        {# Import the page-specific styles, which now include the card styles #}
        {% include './style.css' %}
    </style>
{% endblock %}

{% block body_content %}
    <div class="wrapper">
        <div class="app-header">
            <h1 class="app-title">{{ data.title }}</h1>
        </div>

        {% if data.metadata %}
        <div class="meta-box">
            {% block meta_box_image %}{% endblock %}
            {% for item in data.metadata if item.value %}
            <div class="meta-item">
                <div class="meta-label">{{ item.label }}</div>
                <div class="meta-value">{{ item.value }}</div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% for section in data.sections %}
        <div class="info-box" {% if loop.last %}style="min-height: 220px;"{% endif %}>
            {% if loop.index == 2 %}
                {% block info_box_image %}{% endblock %}
            {% endif %}
            <h2 class="section-title">{{ section.title }}</h2>
            <div class="section-content">
                {% for line in section.content %}
                <div class="markdown-content">{{ line | md | safe }}</div>
                {% endfor %}
            </div>
        </div>
        {% if not loop.last %}<div class="divider"></div>{% endif %}
        {% endfor %}

        <div class="divider"></div>
        {% include 'partials/_footer.html' %}
    </div>
{% endblock %}
