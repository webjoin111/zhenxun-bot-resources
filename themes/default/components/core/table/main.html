
<style>
    @layer components {
        {% include './style.css' %}
    }
</style>
{% from 'partials/_component_macros.jinja' import wrapper %}
{% call wrapper(data, 'container') %}
    <div class="header">
        <h1>{{ data.title }}</h1>
        {% if data.tip %}
        <p>{{ data.tip | replace("`", "<code>") | replace("`", "</code>") | safe }}</p>
        {% endif %}
    </div>
    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    {% for header in data.headers %}
                    <th>{{ header }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in data.rows %}
                <tr>
                    {% for cell in row %}
                    <td>
                        {% if cell and cell.type == 'image' %}
                            <img class="cell-image {{ 'circular' if cell.shape == 'circle' }}"
                                 src="{{ cell.src }}"
                                 alt="{{ cell.alt }}"
                                 width="{{ cell.width }}"
                                 height="{{ cell.height }}">
                        {% elif cell and cell.type == 'text' %}
                            <span class="cell-text"
                                  style="font-weight: {{ 'bold' if cell.bold else 'normal' }}; color: {{ cell.color if cell.color else 'inherit' }};">
                                {{ cell.content }}
                            </span>
                        {% elif cell and cell.type == 'badge' %}
                            <span class="status-badge {{ cell.status_type }}">
                                {{ cell.text }}
                            </span>
                        {% elif cell and cell.type == 'progress_bar' %}
                            <div class="progress-container">
                                <div class="progress-bar {{ cell.color_scheme }} {% if cell.animated %}animated{% endif %}" style="width: {{ cell.progress }}%;">
                                    <div class="progress-label-wrapper" style="--progress: {{ cell.progress }}">
                                        <span class="progress-label-inner">{{ cell.label if cell.label else '' }}</span>
                                        <span class="progress-label-outer">{{ cell.label if cell.label else '' }}</span>
                                    </div>
                                </div>
                            </div>
                        {% elif cell is mapping and 'available' in cell %}
                            <span class="status-badge {{ 'ok' if cell.available else 'error' }}">
                                <span>{{ cell.text }}</span>
                            </span>
                        {% else %}
                            {{ cell }}
                        {% endif %}
                    </td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endcall %}
